<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
    <f:view locale="#{activeLocale.actual}">
		<h:head>
		    <meta charset="utf-8" />
		    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
		    <title>Area Organizador - EventosZorzi</title>
		    <f:event type="preRenderView" listener="#{userSessionBean.authorize('organizador')}" />
		</h:head>
		<h:body>
		    <div>
		        <h:form id="navbarForm" style="margin-bottom: 15px;">
				    <p:menubar>
				        <!-- Logo o titolo -->
				        <p:menuitem value="EventosZorzi" style="font-weight: bold; font-size: 20px; pointer-events: none;" />
				
				        <!-- Dropdown per la selezione della lingua -->
				        <p:menuitem>
				            <p:selectOneMenu id="languageMenu" value="#{activeLocale.languageTag}">
				                <f:selectItems value="#{activeLocale.localesDisponibles}" var="l"
				                    itemValue="#{l.toLanguageTag()}"
				                    itemLabel="#{l.getDisplayLanguage(l)}">
				                </f:selectItems>
				                <f:ajax listener="#{activeLocale.reload}" render="@form" />
				            </p:selectOneMenu>
				        </p:menuitem>
				
				        <!-- Messaggio informativo sul ruolo -->
				        <p:menuitem style="margin-left: auto; pointer-events: none; color: gray;" 
				                    value="#{text.Rol}: #{userSessionBean.rolTemporaneo eq null ? 'null' : userSessionBean.rolTemporaneo}" />
				
				        <!-- Pulsante Logout -->
				        <p:menuitem value="Logout" 
				                    action="#{userSessionBean.logout()}" 
				                    style="color: red;" />
				    </p:menubar>
				</h:form>
				
		        <h:outputText value="#{text.bienvenida_org}, #{userSessionBean.nombre}!"
		        	styleClass="ui-widget ui-widget-header" 
		        	style="font-size: 2em; font-weight: bold; padding: 15px;"/>
		    </div>
		</h:body>
	</f:view>
</html>